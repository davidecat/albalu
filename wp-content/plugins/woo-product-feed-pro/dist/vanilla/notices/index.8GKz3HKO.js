/* empty css                   */import{N as I}from"./drawer._JpF86-g.js";import{N}from"./header-icon.BTfknGvJ.js";function C(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(p,D,n){const{__:u}=p.wp.i18n,i=n(".adt-pfp-admin-notice");let a=0;const m=function(e){const t=n(this),o=t.closest(".adt-pfp-admin-notice, .adt-notification-drawer__item");if(o.length===0)return;const s=o.hasClass("adt-notification-drawer__item"),d=t.attr("href"),c=d&&d!=="#",r=t.attr("target")==="_blank";if(t.data("plugin_slug")){e.preventDefault(),w(t,o,s);return}if(t.data("response")||t.hasClass("notice-dismiss")){if(c&&r){_(t,o,s);return}e.preventDefault(),_(t,o,s);return}(!c||d==="#")&&e.preventDefault()},w=(e,t,o)=>{const s=e.data("plugin_slug"),d=e.data("nonce"),c=t.attr("id")||t.data("notice-id"),r=t.data("nonce");if(!s||!d)return;const l=e.text();e.text(u("Installing...","woo-product-feed-pro")).prop("disabled",!0).addClass("disabled"),n.ajax({url:p.ajaxurl,type:"POST",data:{action:"adt_install_activate_plugin",plugin_slug:s,silent:!0,nonce:d},success:f=>{f.success?(e.text(u("Installed","woo-product-feed-pro")),c&&r&&n.post(p.ajaxurl,{action:"adt_pfp_dismiss_admin_notice",notice_id:c,nonce:r,response:"installed"}),g(t,o)):e.text(l).prop("disabled",!1).removeClass("disabled")},error:()=>{e.text(l).prop("disabled",!1).removeClass("disabled")}})},_=(e,t,o)=>{const s=e.data("response")||"dismissed",d=t.attr("id")||t.data("notice-id"),c=t.data("nonce");if(!d||!c)return;const r=e.hasClass("with-loading"),l=e.data("loading-text");r&&l?t.empty().append(n("<p>").text(l)):t.fadeOut("fast"),n.post(p.ajaxurl,{action:"adt_pfp_dismiss_admin_notice",notice_id:d,response:s,nonce:c},f=>{f.success&&f.redirect?window.location.href=f.redirect:g(t,o)})},g=(e,t)=>{e.fadeOut(200,()=>{e.remove(),t&&h()})},h=()=>{const e=window.adtNotificationDrawer;e&&typeof e.updateBadgeCount=="function"&&(e.updateBadgeCount(),e.checkIfEmpty())},v=()=>{n(document).on("click",".adt-pfp-admin-notice button, .adt-pfp-admin-notice a, .adt-pfp-admin-notice .notice-dismiss",m),n(document).on("click",".adt-notification-drawer__item a, .adt-notification-drawer__item button",m)},x=()=>{i.length>1&&(i.hide(),i.eq(a).show(),n(".adt-notice-nav-prev").on("click",t=>{t.preventDefault(),i.eq(a).fadeOut(200,()=>{a=(a-1+i.length)%i.length,i.eq(a).fadeIn(200)})}),n(".adt-notice-nav-next").on("click",t=>{t.preventDefault(),i.eq(a).fadeOut(200,()=>{a=(a+1)%i.length,i.eq(a).fadeIn(200)})}))};n(document).ready(()=>{if(n("#adt-notification-drawer").length>0){const e=new I,t=new N(e);window.adtNotificationDrawer=e,window.adtNotificationHeaderIcon=t}v(),x()})})(window,document,jQuery);export{C as __vite_legacy_guard};
