System.register(["./style.scss-legacy.BS9U_83Z.js","./drawer-legacy.DTdNY-_l.js","./header-icon-legacy.B8-G74sl.js"],function(t,e){"use strict";var a,n;return{setters:[null,t=>{a=t.N},t=>{n=t.N}],execute:function(){!function(t,e,i){const{__:d}=t.wp.i18n,o=i(".adt-pfp-admin-notice");let s=0;const c=function(t){const e=i(this),a=e.closest(".adt-pfp-admin-notice, .adt-notification-drawer__item");if(0===a.length)return;const n=a.hasClass("adt-notification-drawer__item"),d=e.attr("href"),o=d&&"#"!==d,s="_blank"===e.attr("target");return e.data("plugin_slug")?(t.preventDefault(),void r(e,a,n)):e.data("response")||e.hasClass("notice-dismiss")?(o&&s||t.preventDefault(),void l(e,a,n)):void(o&&"#"!==d||t.preventDefault())},r=(e,a,n)=>{const o=e.data("plugin_slug"),s=e.data("nonce"),c=a.attr("id")||a.data("notice-id"),r=a.data("nonce");if(!o||!s)return;const l=e.text();e.text(d("Installing...","woo-product-feed-pro")).prop("disabled",!0).addClass("disabled"),i.ajax({url:t.ajaxurl,type:"POST",data:{action:"adt_install_activate_plugin",plugin_slug:o,silent:!0,nonce:s},success:o=>{o.success?(e.text(d("Installed","woo-product-feed-pro")),c&&r&&i.post(t.ajaxurl,{action:"adt_pfp_dismiss_admin_notice",notice_id:c,nonce:r,response:"installed"}),p(a,n)):e.text(l).prop("disabled",!1).removeClass("disabled")},error:()=>{e.text(l).prop("disabled",!1).removeClass("disabled")}})},l=(e,a,n)=>{const d=e.data("response")||"dismissed",o=a.attr("id")||a.data("notice-id"),s=a.data("nonce");if(!o||!s)return;const c=e.hasClass("with-loading"),r=e.data("loading-text");c&&r?a.empty().append(i("<p>").text(r)):a.fadeOut("fast"),i.post(t.ajaxurl,{action:"adt_pfp_dismiss_admin_notice",notice_id:o,response:d,nonce:s},t=>{t.success&&t.redirect?window.location.href=t.redirect:p(a,n)})},p=(t,e)=>{t.fadeOut(200,()=>{t.remove(),e&&u()})},u=()=>{const t=window.adtNotificationDrawer;t&&"function"==typeof t.updateBadgeCount&&(t.updateBadgeCount(),t.checkIfEmpty())};i(document).ready(()=>{if(i("#adt-notification-drawer").length>0){const t=new a,e=new n(t);window.adtNotificationDrawer=t,window.adtNotificationHeaderIcon=e}i(document).on("click",".adt-pfp-admin-notice button, .adt-pfp-admin-notice a, .adt-pfp-admin-notice .notice-dismiss",c),i(document).on("click",".adt-notification-drawer__item a, .adt-notification-drawer__item button",c),o.length>1&&(o.hide(),o.eq(s).show(),i(".adt-notice-nav-prev").on("click",t=>{t.preventDefault(),o.eq(s).fadeOut(200,()=>{s=(s-1+o.length)%o.length,o.eq(s).fadeIn(200)})}),i(".adt-notice-nav-next").on("click",t=>{t.preventDefault(),o.eq(s).fadeOut(200,()=>{s=(s+1)%o.length,o.eq(s).fadeIn(200)})}))})}(window,document,jQuery)}}});
